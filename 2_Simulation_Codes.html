
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams &#8212; Software Tools from Atomistics to Phase Diagrams</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/sphinx-book-theme.2d2078699c18a0efb88233928e1cf6ed.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.be0a4a0c39cd630af62a2fcf693f3f06.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams" href="3_Density_Functional_Theory.html" />
    <link rel="prev" title="Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams" href="1_Atomistic_Structures.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo_dark.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Software Tools from Atomistics to Phase Diagrams</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="1_Atomistic_Structures.html">
   Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="#day-1-atomistic-simulation">
   Day 1 - atomistic simulation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_Density_Functional_Theory.html">
   Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_Density_Functional_Theory.html#day-1-atomistic-simulation">
   Day 1 - atomistic simulation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="3_Density_Functional_Theory.html#density-functional-theory">
   Density Functional Theory
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4_Free_Energies.html">
   Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="4_Free_Energies.html#day-1-atomistic-simulation">
   Day 1 - atomistic simulation
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/2_Simulation_Codes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/pyiron/phasediagram-workshop-2020/master?urlpath=tree/2_Simulation_Codes.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#day-1-atomistic-simulation">
   Day 1 - atomistic simulation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reminder">
     Reminder
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lammps-calculation">
     LAMMPS Calculation
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#molecular-dynamics-calculation">
       Molecular dynamics calculation
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reminder-job-management-in-pyiron">
       Reminder: Job Management in pyiron
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reminder-plot-calculation-results-using-matplotlib">
       Reminder: Plot calculation results using matplotlib
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#advanced-input-options">
       Advanced input options
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#advanced-output-options">
       Advanced output options
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#accessing-the-original-output-files-of-the-lammps-code">
       Accessing the original output files of the LAMMPS code
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beyond-a-single-lammps-calculation">
     Beyond a single LAMMPS calculation
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#filter-interatomic-potential-database">
       Filter Interatomic Potential Database
      </a>
     </li>
     <li class="toc-h3 nav-item toc-entry">
      <a class="reference internal nav-link" href="#choose-an-interatmoic-potential">
       Choose an interatmoic potential
      </a>
      <ul class="nav section-nav flex-column">
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#job-template">
         Job Template
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#iterate-over-interatomic-potentials">
         Iterate over interatomic potentials
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#validate-calculations">
         Validate calculations
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#analyse-results">
         Analyse results
        </a>
       </li>
       <li class="toc-h4 nav-item toc-entry">
        <a class="reference internal nav-link" href="#pyiron-table">
         pyiron table
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#summary">
     Summary
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="welcome-to-the-workshop-software-tools-from-atomistics-to-phase-diagrams">
<h1>Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams<a class="headerlink" href="#welcome-to-the-workshop-software-tools-from-atomistics-to-phase-diagrams" title="Permalink to this headline">¶</a></h1>
<p>https://pyiron.org - https://www.mpie.de - https://workshop.materialsgenomefoundation.org</p>
<ul class="simple">
<li><p>Richard Otis (Materials Genome Foundation)</p></li>
<li><p><strong>Jan Janssen</strong>, Tilmann Hickel, Jörg Neugebauer (Max-Planck-Institut für Eisenforschung)</p></li>
<li><p>Brandon Bocklund and Zi-Kui Liu (Pennsylvania State University)</p></li>
</ul>
</div>
<div class="section" id="day-1-atomistic-simulation">
<h1>Day 1 - atomistic simulation<a class="headerlink" href="#day-1-atomistic-simulation" title="Permalink to this headline">¶</a></h1>
<p>11:50-12:20 Interactive: <strong>Atomistic simulations with pyiron</strong></p>
<p>The scope of this second exercise is to become familar with:</p>
<ul class="simple">
<li><p>Interatomic potential calculation,</p></li>
<li><p>the pyiron job management and</p></li>
<li><p>the aggregation of multiple calculations.</p></li>
</ul>
<div class="section" id="reminder">
<h2>Reminder<a class="headerlink" href="#reminder" title="Permalink to this headline">¶</a></h2>
<p>In the first session we learned how to create a pyiron project object and then use this pyiron project object to create atomistic structure objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the Project object</span>
<span class="kn">from</span> <span class="nn">pyiron</span> <span class="kn">import</span> <span class="n">____</span>

<span class="c1"># Create a Project object instance for a project named atomistics</span>
<span class="n">pr</span> <span class="o">=</span> <span class="n">____</span><span class="p">(</span><span class="s2">&quot;simulations&quot;</span><span class="p">)</span>

<span class="c1"># Create a cubic aluminum fcc structure and repeat it 3 times in each direction</span>
<span class="n">al_fcc</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_ase_bulk</span><span class="p">(</span><span class="n">____</span><span class="p">,</span> <span class="n">_____</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">al_fcc_repeated</span> <span class="o">=</span> <span class="n">al_fcc</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">____</span><span class="p">)</span>

<span class="c1"># Confirm the final structure has 108 atoms by calculating the length of the structure object</span>
<span class="n">____</span><span class="p">(</span><span class="n">al_fcc_repeated</span><span class="p">)</span> <span class="o">==</span> <span class="mi">108</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">PermissionError</span><span class="g g-Whitespace">                           </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">ed6309e393f2</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Import the Project object</span>
<span class="ne">----&gt; </span><span class="mi">2</span> <span class="kn">from</span> <span class="nn">pyiron</span> <span class="kn">import</span> <span class="n">____</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> 
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="c1"># Create a Project object instance for a project named atomistics</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">pr</span> <span class="o">=</span> <span class="n">____</span><span class="p">(</span><span class="s2">&quot;simulations&quot;</span><span class="p">)</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">miniconda</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pyiron</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">__all__</span> <span class="o">=</span> <span class="p">[]</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> 
<span class="ne">----&gt; </span><span class="mi">4</span> <span class="kn">from</span> <span class="nn">pyiron.project</span> <span class="kn">import</span> <span class="n">Project</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="kn">from</span> <span class="nn">pyiron.atomistics.structure.atoms</span> <span class="kn">import</span> <span class="n">ase_to_pyiron</span><span class="p">,</span> <span class="n">pyiron_to_ase</span><span class="p">,</span> <span class="n">Atoms</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="kn">from</span> <span class="nn">pyiron.atomistics.structure.generator</span> <span class="kn">import</span> <span class="n">create_surface</span><span class="p">,</span> <span class="n">create_ase_bulk</span><span class="p">,</span> <span class="n">create_structure</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">miniconda</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pyiron</span><span class="o">/</span><span class="n">project</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">8</span> <span class="kn">from</span> <span class="nn">string</span> <span class="kn">import</span> <span class="n">punctuation</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="kn">from</span> <span class="nn">shutil</span> <span class="kn">import</span> <span class="n">copyfile</span>
<span class="ne">---&gt; </span><span class="mi">10</span> <span class="kn">from</span> <span class="nn">pyiron_base</span> <span class="kn">import</span> <span class="n">Settings</span><span class="p">,</span> <span class="n">ProjectHDFio</span><span class="p">,</span> <span class="n">JobType</span><span class="p">,</span> <span class="n">JobTypeChoice</span><span class="p">,</span> <span class="n">Project</span> <span class="k">as</span> <span class="n">ProjectCore</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span>     <span class="kn">from</span> <span class="nn">pyiron_base</span> <span class="kn">import</span> <span class="n">ProjectGUI</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">miniconda</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pyiron_base</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="kn">from</span> <span class="nn">pyiron_base.generic.hdfio</span> <span class="kn">import</span> <span class="n">FileHDFio</span><span class="p">,</span> <span class="n">ProjectHDFio</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="kn">from</span> <span class="nn">pyiron_base.generic.inputlist</span> <span class="kn">import</span> <span class="n">InputList</span>
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="kn">from</span> <span class="nn">pyiron_base.generic.parameters</span> <span class="kn">import</span> <span class="n">GenericParameters</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="kn">from</span> <span class="nn">pyiron_base.generic.template</span> <span class="kn">import</span> <span class="n">PyironObject</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="kn">from</span> <span class="nn">pyiron_base.job.executable</span> <span class="kn">import</span> <span class="n">Executable</span>

<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">miniconda</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pyiron_base</span><span class="o">/</span><span class="n">generic</span><span class="o">/</span><span class="n">parameters</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">28</span> <span class="n">__date__</span> <span class="o">=</span> <span class="s2">&quot;Sep 1, 2017&quot;</span>
<span class="g g-Whitespace">     </span><span class="mi">29</span> 
<span class="ne">---&gt; </span><span class="mi">30</span> <span class="n">s</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>
<span class="g g-Whitespace">     </span><span class="mi">31</span> 
<span class="g g-Whitespace">     </span><span class="mi">32</span> 

<span class="nn">/usr/share/miniconda/lib/python3.8/site-packages/pyiron_base/settings/generic.py</span> in <span class="ni">__call__</span><span class="nt">(cls, *args, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">47</span>             <span class="bp">cls</span><span class="o">.</span><span class="n">_instances</span><span class="p">[</span><span class="bp">cls</span><span class="p">]</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Singleton</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">48</span>         <span class="k">if</span> <span class="bp">cls</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instances</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">49</span>             <span class="bp">cls</span><span class="o">.</span><span class="n">_instances</span><span class="p">[</span><span class="bp">cls</span><span class="p">]</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Singleton</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">50</span>         <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instances</span><span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
<span class="g g-Whitespace">     </span><span class="mi">51</span> 

<span class="nn">/usr/share/miniconda/lib/python3.8/site-packages/pyiron_base/settings/generic.py</span> in <span class="ni">__init__</span><span class="nt">(self, config)</span>
<span class="g g-Whitespace">    </span><span class="mi">114</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_database_is_disabled</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span><span class="p">[</span><span class="s2">&quot;disable_database&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">115</span>         <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">database_is_disabled</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">116</span>             <span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert_database_config</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">117</span>                 <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_configuration</span>
<span class="g g-Whitespace">    </span><span class="mi">118</span>             <span class="p">)</span>

<span class="nn">/usr/share/miniconda/lib/python3.8/site-packages/pyiron_base/settings/generic.py</span> in <span class="ni">convert_database_config</span><span class="nt">(config)</span>
<span class="g g-Whitespace">    </span><span class="mi">491</span>                 <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">sql_file</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">492</span>             <span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">493</span>                 <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">sql_file</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">494</span>             <span class="n">config</span><span class="p">[</span>
<span class="g g-Whitespace">    </span><span class="mi">495</span>                 <span class="s2">&quot;sql_connection_string&quot;</span>

<span class="nn">/usr/share/miniconda/lib/python3.8/os.py</span> in <span class="ni">makedirs</span><span class="nt">(name, mode, exist_ok)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>     <span class="k">if</span> <span class="n">head</span> <span class="ow">and</span> <span class="n">tail</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">213</span>             <span class="n">makedirs</span><span class="p">(</span><span class="n">head</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="n">exist_ok</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">214</span>         <span class="k">except</span> <span class="ne">FileExistsError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">215</span>             <span class="c1"># Defeats race condition when another thread created the path</span>

<span class="nn">/usr/share/miniconda/lib/python3.8/os.py</span> in <span class="ni">makedirs</span><span class="nt">(name, mode, exist_ok)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>     <span class="k">if</span> <span class="n">head</span> <span class="ow">and</span> <span class="n">tail</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">213</span>             <span class="n">makedirs</span><span class="p">(</span><span class="n">head</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="n">exist_ok</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">214</span>         <span class="k">except</span> <span class="ne">FileExistsError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">215</span>             <span class="c1"># Defeats race condition when another thread created the path</span>

<span class="nn">/usr/share/miniconda/lib/python3.8/os.py</span> in <span class="ni">makedirs</span><span class="nt">(name, mode, exist_ok)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>     <span class="k">if</span> <span class="n">head</span> <span class="ow">and</span> <span class="n">tail</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">213</span>             <span class="n">makedirs</span><span class="p">(</span><span class="n">head</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="n">exist_ok</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">214</span>         <span class="k">except</span> <span class="ne">FileExistsError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">215</span>             <span class="c1"># Defeats race condition when another thread created the path</span>

<span class="nn">/usr/share/miniconda/lib/python3.8/os.py</span> in <span class="ni">makedirs</span><span class="nt">(name, mode, exist_ok)</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span>     <span class="k">if</span> <span class="n">head</span> <span class="ow">and</span> <span class="n">tail</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">head</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">213</span>             <span class="n">makedirs</span><span class="p">(</span><span class="n">head</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="n">exist_ok</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">214</span>         <span class="k">except</span> <span class="ne">FileExistsError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">215</span>             <span class="c1"># Defeats race condition when another thread created the path</span>

<span class="nn">/usr/share/miniconda/lib/python3.8/os.py</span> in <span class="ni">makedirs</span><span class="nt">(name, mode, exist_ok)</span>
<span class="g g-Whitespace">    </span><span class="mi">221</span>             <span class="k">return</span>
<span class="g g-Whitespace">    </span><span class="mi">222</span>     <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">223</span>         <span class="n">mkdir</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">224</span>     <span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
<span class="g g-Whitespace">    </span><span class="mi">225</span>         <span class="c1"># Cannot rely on checking for EEXIST, since the operating system</span>

<span class="ne">PermissionError</span>: [Errno 13] Permission denied: &#39;/srv/conda&#39;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="lammps-calculation">
<h2>LAMMPS Calculation<a class="headerlink" href="#lammps-calculation" title="Permalink to this headline">¶</a></h2>
<p>The Large-scale Atomic/Molecular Massively Parallel Simulator (LAMMPS) code is used inside pyiron for atomistic simualtion with interatomic potentials. These interatomic potentials approximate the interaction of atoms and can be either fitted to density functional theory (DFT) or experimental results. Still in contrast to density functional theory which scales cubically with the number of atoms interatomic potentials scale linearly with the number of atoms. Therefore we are going to use primarly interatomic potentials in this workshop but most calculations could be executed with a DFT codes as well.</p>
<div class="section" id="molecular-dynamics-calculation">
<h3>Molecular dynamics calculation<a class="headerlink" href="#molecular-dynamics-calculation" title="Permalink to this headline">¶</a></h3>
<p>We start with a first molecular dynamic calculation at an ensemble with constant number of atoms, constant volume and contant fixed temperature.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a LAMMPS job object with the job name lmp</span>
<span class="n">job_md</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span>
    <span class="n">job_type</span><span class="o">=</span><span class="n">pr</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">Lammps</span><span class="p">,</span> 
    <span class="n">job_name</span><span class="o">=</span><span class="n">____</span>
<span class="p">)</span>

<span class="c1"># Assign the fcc aluminium structure to the LAMMPS job object</span>
<span class="n">job_md</span><span class="o">.</span><span class="n">structure</span> <span class="o">=</span> <span class="n">_________</span>

<span class="c1"># Define an ensemble with constant number of atoms, </span>
<span class="c1"># constant volume and a constant temperature of 500K</span>
<span class="c1"># and simulate 10000 molecular dynamics steps</span>
<span class="n">job_md</span><span class="o">.</span><span class="n">calc_md</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="n">______</span><span class="p">,</span> <span class="n">n_ionic_steps</span><span class="o">=</span><span class="n">______</span><span class="p">)</span>

<span class="c1"># Execute the calculation </span>
<span class="n">job_md</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="c1"># Animate the molecular dynamics trajectory</span>
<span class="n">job_md</span><span class="o">.</span><span class="n">animate_structure</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="reminder-job-management-in-pyiron">
<h3>Reminder: Job Management in pyiron<a class="headerlink" href="#reminder-job-management-in-pyiron" title="Permalink to this headline">¶</a></h3>
<p>After the successful execution of the calculation it is listed in the project database and can be reloaded using either the job name or the job id, therefore theese have to be unique for a given project.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># list all calculations in the current project using the project job table</span>
<span class="n">______</span><span class="o">.</span><span class="n">job_table</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>As discussed in the previous section by default pyiron calculations are reloaded from the database when a calculation with the same name already exists in a given project. Therefore to overwrite the calculation parameters we use <code class="docutils literal notranslate"><span class="pre">delete_existing_job</span></code> parameter in the <code class="docutils literal notranslate"><span class="pre">run()</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Change the temperature to 800K and calculate 20000 steps</span>
<span class="n">job_md</span><span class="o">.</span><span class="n">calc_md</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="n">_____</span><span class="p">,</span> <span class="n">n_ionic_steps</span><span class="o">=</span><span class="n">_______</span><span class="p">)</span>

<span class="c1"># Execute the SQS calculation by calling the run function with the delete_existing parameter set to true: </span>
<span class="n">job_md</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">delete_existing_job</span><span class="o">=</span><span class="n">______</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="reminder-plot-calculation-results-using-matplotlib">
<h3>Reminder: Plot calculation results using matplotlib<a class="headerlink" href="#reminder-plot-calculation-results-using-matplotlib" title="Permalink to this headline">¶</a></h3>
<p>In the same way we can again use matplotlib to analyse the results of our calculation. For example we can use the matplotlib library to plot the temperature over simulation steps.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the matplotlib library for plotting. As we are using jupyter notebooks </span>
<span class="c1"># for combining code, documentation and visualisation, we also need the jupyter magic for matplotlib. </span>
<span class="c1"># https://ipython.readthedocs.io/en/stable/interactive/magics.html#magic-matplotlib</span>
<span class="o">%</span><span class="k">matplotlib</span> inline 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># for the LAMMPS job object plot the temperature over simualation steps</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">________</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">steps</span><span class="p">,</span> <span class="n">_____</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">temperature</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;timesteps&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="advanced-input-options">
<h3>Advanced input options<a class="headerlink" href="#advanced-input-options" title="Permalink to this headline">¶</a></h3>
<p>Besides the general functions <code class="docutils literal notranslate"><span class="pre">calc_static()</span></code>, <code class="docutils literal notranslate"><span class="pre">calc_minimize()</span></code> and <code class="docutils literal notranslate"><span class="pre">calc_md()</span></code>. pyiron also has the option to modify the input of the simulation code directly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># change the number of simulation steps to 2000 by manually modifying the run command</span>
<span class="n">job_md</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">control</span><span class="p">[</span><span class="s2">&quot;run&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_____</span>

<span class="c1"># display the LAMMPS input file </span>
<span class="n">job_md</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">control</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="advanced-output-options">
<h3>Advanced output options<a class="headerlink" href="#advanced-output-options" title="Permalink to this headline">¶</a></h3>
<p>Besides the output properties it is also possible to access the output of a calculation directly from the HDF5 file which is the hierachical file format pyiron is using to store the simulation data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># print the generic output stored in the HDF5 file</span>
<span class="nb">print</span><span class="p">(</span><span class="n">job_md</span><span class="p">[</span><span class="n">___________</span><span class="p">])</span>

<span class="c1"># plot the temperature over simulation steps directly from the HDF5 file </span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">job_md</span><span class="p">[</span><span class="n">___________</span><span class="p">],</span> <span class="n">job_md</span><span class="p">[</span><span class="n">___________</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;timesteps&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Temperature&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="accessing-the-original-output-files-of-the-lammps-code">
<h3>Accessing the original output files of the LAMMPS code<a class="headerlink" href="#accessing-the-original-output-files-of-the-lammps-code" title="Permalink to this headline">¶</a></h3>
<p>While pyiron parses most of the output of the simulation codes some users might have the need to access addtional output parameters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Decompress the LAMMPS job</span>
<span class="n">_______</span><span class="o">.</span><span class="n">decompress</span><span class="p">()</span>

<span class="c1"># Read the LAMMPS output file of the LAMMPS job</span>
<span class="n">_______</span><span class="p">[</span><span class="s2">&quot;log.lammps&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="beyond-a-single-lammps-calculation">
<h2>Beyond a single LAMMPS calculation<a class="headerlink" href="#beyond-a-single-lammps-calculation" title="Permalink to this headline">¶</a></h2>
<p>While for individual LAMMPS calculation an integrated solution like pyiron is not required, pyiron really shines when it comes to combining multiple calculations. So in the following we iterate over a database of existing interatomic potentials and determine the lattice structure by minimizing the simulation cell.</p>
<div class="section" id="filter-interatomic-potential-database">
<h3>Filter Interatomic Potential Database<a class="headerlink" href="#filter-interatomic-potential-database" title="Permalink to this headline">¶</a></h3>
<p>We start by identifying suitable interatomic potentials. By default pyiron already filters the interatomic potentials to only list those which include the required elements. Still the user can further filter the list of available potentials for a given project.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># List interatomic potentials from the NIST repository: </span>
<span class="c1"># https://www.ctcms.nist.gov/potentials/</span>
<span class="c1"># which include interactions for aluminium by calling view_potentials() on the LAMMPS job object</span>
<span class="n">potential_df</span> <span class="o">=</span> <span class="n">______</span><span class="o">.</span><span class="n">view_potentials</span><span class="p">()</span>
<span class="n">potential_df</span><span class="p">[</span><span class="n">potential_df</span><span class="o">.</span><span class="n">Model</span> <span class="o">==</span> <span class="s2">&quot;NISTiprpy&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="choose-an-interatmoic-potential">
<h3>Choose an interatmoic potential<a class="headerlink" href="#choose-an-interatmoic-potential" title="Permalink to this headline">¶</a></h3>
<p>Interatomic potentials can be fitted for specific applications, therefore before selecting a given interatomic potential it is recommended to test basic properties of the potential. In this example we calculate the 0K equilibrium lattice constant by optimizing the atmoic supercell.</p>
<div class="section" id="job-template">
<h4>Job Template<a class="headerlink" href="#job-template" title="Permalink to this headline">¶</a></h4>
<p>To develop a scalable simulation protocol, we first define a job template and then apply this template to the available interatomic potentials.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To compare different potentials we start by creating a template job named lmp_template</span>
<span class="n">job_template</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_job</span><span class="p">(</span>
    <span class="n">job_type</span><span class="o">=</span><span class="n">pr</span><span class="o">.</span><span class="n">job_type</span><span class="o">.</span><span class="n">Lammps</span><span class="p">,</span> 
    <span class="n">job_name</span><span class="o">=</span><span class="n">______</span>
<span class="p">)</span>

<span class="c1"># We assign a cubic fcc aluminium supercell </span>
<span class="n">job_template</span><span class="o">.</span><span class="n">structure</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_ase_bulk</span><span class="p">(</span><span class="n">_____</span><span class="p">,</span> <span class="n">_____</span><span class="p">)</span>

<span class="c1"># Enable volume minimization by specifying the pressure as zero</span>
<span class="n">job_template</span><span class="o">.</span><span class="n">calc_minimize</span><span class="p">(</span><span class="n">pressure</span><span class="o">=</span><span class="n">_____</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="iterate-over-interatomic-potentials">
<h4>Iterate over interatomic potentials<a class="headerlink" href="#iterate-over-interatomic-potentials" title="Permalink to this headline">¶</a></h4>
<p>After the template is constructed we can iterate over the database of existing interatomic potentials. In this example we limit the total umber of potentials to three to accelerate the calculations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We then iterate over the first three potentials of the NIST database</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">potential_df</span><span class="p">[</span><span class="n">potential_df</span><span class="o">.</span><span class="n">Model</span> <span class="o">==</span> <span class="s2">&quot;NISTiprpy&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">_____</span><span class="p">]:</span>
    <span class="c1"># create a copy for each of the template job for each of the potentials</span>
    <span class="c1"># without creating a new database entry by setting the new_database_entry </span>
    <span class="c1"># parameter to False </span>
    <span class="n">job_minimize</span> <span class="o">=</span> <span class="n">job_template</span><span class="o">.</span><span class="n">copy_to</span><span class="p">(</span>
        <span class="n">new_job_name</span><span class="o">=</span><span class="s2">&quot;lmp_&quot;</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">),</span> 
        <span class="n">new_database_entry</span><span class="o">=</span><span class="n">_____</span>
    <span class="p">)</span>
    
    <span class="c1"># We then assign the potential </span>
    <span class="n">job_minimize</span><span class="o">.</span><span class="n">potential</span> <span class="o">=</span> <span class="n">p</span>
    
    <span class="c1"># Execute the calculation and set the delete_existing_job parameter to True</span>
    <span class="n">job_minimize</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">delete_existing_job</span><span class="o">=</span><span class="n">____</span><span class="p">)</span>
    
<span class="c1"># wait for all calculations to be finished</span>
<span class="n">pr</span><span class="o">.</span><span class="n">wait_for_jobs</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pr</span><span class="o">.</span><span class="n">job_table</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="validate-calculations">
<h4>Validate calculations<a class="headerlink" href="#validate-calculations" title="Permalink to this headline">¶</a></h4>
<p>We validate the simulation results by confirming the calculations have been executed successfully. In this example one calculation failed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We use the pyiron job table of the project object to identify one job as aborted and two which finished successfully</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">____</span><span class="o">.</span><span class="n">job_table</span><span class="p">()</span>
<span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">_______</span><span class="p">])</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="analyse-results">
<h4>Analyse results<a class="headerlink" href="#analyse-results" title="Permalink to this headline">¶</a></h4>
<p>Iterate over the successful calculation and compare the calculated lattice constants.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We iterate over the jobs in a the current project </span>
<span class="k">for</span> <span class="n">job</span> <span class="ow">in</span> <span class="n">pr</span><span class="o">.</span><span class="n">iter_jobs</span><span class="p">():</span>
    <span class="c1"># Filter job using only those who have the job status finished and &quot;lmp_&quot; in the job_name</span>
    <span class="k">if</span> <span class="n">job</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">_____</span> <span class="ow">and</span> <span class="n">____</span> <span class="ow">in</span> <span class="n">job</span><span class="o">.</span><span class="n">job_name</span><span class="p">:</span> 
        <span class="c1"># Print the job name and the lattice constant </span>
        <span class="nb">print</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">job_name</span><span class="p">,</span> <span class="n">job</span><span class="p">[</span><span class="s2">&quot;output/generic/cells&quot;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="pyiron-table">
<h4>pyiron table<a class="headerlink" href="#pyiron-table" title="Permalink to this headline">¶</a></h4>
<p>To automate the collection of data from individual calculations pyiron includes the pyiron table object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a pyiron table object</span>
<span class="n">table</span> <span class="o">=</span> <span class="n">pr</span><span class="o">.</span><span class="n">create_table</span><span class="p">()</span>

<span class="c1"># Implement a filter function, which returns true for finished jobs and jobs with &quot;lmp_&quot; in the job_name</span>
<span class="k">def</span> <span class="nf">filter_jobs</span><span class="p">(</span><span class="n">job</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">job</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="n">______</span> <span class="ow">and</span> <span class="n">______</span> <span class="ow">in</span> <span class="n">job</span><span class="o">.</span><span class="n">job_name</span>

<span class="c1"># Implement analysis functions, which return the job_name and the lattice constant</span>
<span class="k">def</span> <span class="nf">get_lattice_constant</span><span class="p">(</span><span class="n">job</span><span class="p">):</span> 
    <span class="k">return</span> <span class="n">_________________</span>

<span class="k">def</span> <span class="nf">get_job_name</span><span class="p">(</span><span class="n">job</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">_________________</span>

<span class="c1"># Assigne the filter functions and the analysis functions to the pyiron table object</span>
<span class="n">table</span><span class="o">.</span><span class="n">filter_function</span> <span class="o">=</span> <span class="n">filter_jobs</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;job_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_job_name</span>
<span class="n">table</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s2">&quot;lattice_constant&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_lattice_constant</span>

<span class="c1"># Execute the pyiron table just like a pyiron job object</span>
<span class="n">table</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="c1"># Return a pandas DataFrame with the collected results </span>
<span class="n">table</span><span class="o">.</span><span class="n">get_dataframe</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>In this section you learned:</p>
<ul class="simple">
<li><p>to execute LAMMPS calculation with generic and code-specifc input,</p></li>
<li><p>to iterate over multiple interatomic potentials</p></li>
<li><p>and aggregate the data in a pyiron table object.
This technique was afterwards used to calculate the lattice constant of multiple interatomic potentials.</p></li>
</ul>
<p>Additional exercises:</p>
<ul class="simple">
<li><p>Calculate the lattice constant at a finite temperature of 500K by averaging the lattice constant over 1000 time steps.</p></li>
<li><p>Calculate the thermal expansion for multiple potentials.</p></li>
<li><p>How does an interstitial element change the thermal expansion? How does a vacancy change the thermal expansion?</p></li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="1_Atomistic_Structures.html" title="previous page">Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams</a>
    <a class='right-next' id="next-link" href="3_Density_Functional_Theory.html" title="next page">Welcome to the Workshop: Software Tools from Atomistics to Phase Diagrams</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Jan Janssen<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>